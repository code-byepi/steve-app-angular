import './polyfills.server.mjs';
import{E as V,G as O,H as q,I as N,L as j,P as R,S as B,a as F,b as m,c as D,d as C,e as E,f as v,g as d,h as M,i as T,j as b,k as A,l as x,m as y,n as S,o,p as n,q as g,r as h,s as p,t as f,u as s,v as u,w as P,x as l}from"./chunk-VXN2ZRED.mjs";import{a as I,b as k}from"./chunk-VVCT4QZE.mjs";var Z=["product-card",""],H=(()=>{let t=class t{constructor(){this.productEventEmitter=new v}onAddCart(r){this.productEventEmitter.emit(r)}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m({type:t,selectors:[["div","product-card",""]],inputs:{product:"product"},outputs:{productEventEmitter:"productEventEmitter"},standalone:!0,features:[l],attrs:Z,decls:10,vars:3,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"click"]],template:function(e,a){e&1&&(o(0,"div",0)(1,"div",1)(2,"h5",2),s(3),n(),o(4,"p",3),s(5),n(),o(6,"h5",3),s(7),n(),o(8,"button",4),p("click",function(){return a.onAddCart(a.product)}),s(9,"Agregar al carro"),n()()()),e&2&&(d(3),u(a.product.name),d(2),u(a.product.description),d(2),u(a.product.price))},encapsulation:2});let i=t;return i})();function tt(i,t){if(i&1){let c=h();o(0,"div",2),p("productEventEmitter",function(e){C(c);let a=f();return E(a.onAddCart(e))}),n()}if(i&2){let c=t.$implicit;b("product",c)}}var $=(()=>{let t=class t{constructor(){this.products=[],this.productEventEmitter=new v}onAddCart(r){this.productEventEmitter.emit(r)}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m({type:t,selectors:[["catalog"]],inputs:{products:"products"},outputs:{productEventEmitter:"productEventEmitter"},standalone:!0,features:[l],decls:3,vars:0,consts:[[1,"row"],["product-card","",1,"col-4","my-2",3,"product"],["product-card","",1,"col-4","my-2",3,"productEventEmitter","product"]],template:function(e,a){e&1&&(o(0,"div",0),y(1,tt,1,1,"div",1,x),n()),e&2&&(d(),S(a.products))},dependencies:[H],encapsulation:2});let i=t;return i})();function et(i,t){if(i&1){let c=h();o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td")(10,"button",3),p("click",function(){let e=C(c).$implicit,a=f();return E(a.onDeleteCart(e.product.id))}),s(11,"Eliminar"),n()()()}if(i&2){let c=t.$implicit;d(2),u(c.product.name),d(2),u(c.product.price),d(2),u(c.quantity),d(2),u(c.product.price*c.quantity)}}var G=(()=>{let t=class t{constructor(){this.items=[],this.idProductEventEmitter=new v,this.total=0}ngOnChanges(r){let e=r.items;this.calculateTotal(),this.saveSession()}onDeleteCart(r){this.idProductEventEmitter.emit(r)}calculateTotal(){this.total=this.items.reduce((r,e)=>r+e.quantity*e.product.price,0)}saveSession(){sessionStorage.setItem("cart",JSON.stringify(this.items))}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m({type:t,selectors:[["cart"]],inputs:{items:"items"},outputs:{idProductEventEmitter:"idProductEventEmitter"},standalone:!0,features:[D,l],decls:22,vars:1,consts:[[1,"table","table-hover","table-striped"],["colspan","4",1,"text-end","fw-bold"],["colspan","1",1,"text-start","fw-bold"],[1,"btn","btn-danger","btn-sm",3,"click"]],template:function(e,a){e&1&&(o(0,"table",0)(1,"thead")(2,"tr")(3,"th"),s(4,"Producto"),n(),o(5,"th"),s(6,"Precio"),n(),o(7,"th"),s(8,"Cantidad"),n(),o(9,"th"),s(10,"Total"),n(),o(11,"th"),s(12,"Eliminar"),n()()(),o(13,"tbody"),y(14,et,12,4,"tr",null,x),n(),o(16,"tfoot")(17,"tr")(18,"td",1),s(19,"Total"),n(),o(20,"td",2),s(21),n()()()()),e&2&&(d(14),S(a.items),d(7),u(a.total))},encapsulation:2});let i=t;return i})();var J=(()=>{let t=class t{constructor(){this.items=[],this.openEventEmitter=new v}openCart(){this.openEventEmitter.emit()}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m({type:t,selectors:[["navbar"]],inputs:{items:"items"},outputs:{openEventEmitter:"openEventEmitter"},standalone:!0,features:[l],decls:14,vars:1,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],["role","button",1,"nav-link",3,"click"]],template:function(e,a){e&1&&(o(0,"nav",0)(1,"div",1)(2,"a",2),s(3,"iSteve App"),n(),o(4,"button",3),g(5,"span",4),n(),o(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),s(10,"Home"),n()(),o(11,"li",7)(12,"a",9),p("click",function(){return a.openCart()}),s(13),n()()()()()()),e&2&&(d(13),P("Carrito (",a.items.length,")"))},encapsulation:2});let i=t;return i})();var L=[{id:1,name:"Teclado Mecanico Asus",description:"Mecanico. Con luces RGB, cherry red",price:1300},{id:2,name:"Iphone 15",description:"Dise\xF1ado para asombrarte.",price:2e3},{id:3,name:"Notebook Gamer Asus TUF",description:"Perfecta combinaci\xF3n de rendimiento y dise\xF1o",price:3e3},{id:4,name:"Notebook HP Victus",description:"La laptop gaming Victus, tiene lo que necesitas para jugar",price:2500},{id:5,name:"Soporte base Apoya notebook",description:"Ideal para colocar cualquier tipo de notebook o tablet",price:200},{id:6,name:"L\xE1mpara Escritorio",description:"Con brazo articulado, es excelente para escritorios, con buen dise\xF1o y funcionalidad",price:500}];var z=(()=>{let t=class t{constructor(){}findAll(){return L}};t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function nt(i,t){if(i&1){let c=h();o(0,"cart",15),p("idProductEventEmitter",function(e){C(c);let a=f(2);return E(a.onDeleteCart(e))}),n()}if(i&2){let c=f(2);b("items",c.items)}}function ot(i,t){i&1&&(o(0,"div",16),s(1,'"No hay elementos en el carrito!"'),n())}function rt(i,t){if(i&1){let c=h();o(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"h5",9),s(6,"Carrito de Compras!"),n(),g(7,"button",10),n(),o(8,"div",11),T(9,nt,1,1,"cart",12)(10,ot,2,0),n(),o(11,"div",13)(12,"button",14),p("click",function(){C(c);let e=f();return E(e.openCart())}),s(13,"Close"),n()()()()()()}if(i&2){let c=f();d(9),A(9,c.items.length>0?9:10)}}var U=(()=>{let t=class t{constructor(r){this.service=r,this.products=[],this.items=[],this.showCart=!1}ngOnInit(){this.products=this.service.findAll(),this.items=JSON.parse(sessionStorage.getItem("cart")||"[]")}onAddCart(r){this.items.find(a=>a.product.id===r.id)?this.items=this.items.map(a=>a.product.id===r.id?k(I({},a),{quantity:a.quantity+1}):a):this.items=[...this.items,{product:I({},r),quantity:1}]}onDeleteCart(r){this.items=this.items.filter(e=>e.product.id!==r),this.items.length==0&&sessionStorage.removeItem("cart")}openCart(){this.showCart=!this.showCart}};t.\u0275fac=function(e){return new(e||t)(M(z))},t.\u0275cmp=m({type:t,selectors:[["cart-app"]],standalone:!0,features:[l],decls:7,vars:3,consts:[[3,"openEventEmitter","items"],[1,"container","my-4"],[1,"row"],[3,"productEventEmitter","products"],[1,"abrir-modal","animacion","fadeIn"],["tabindex","-1",1,"modal",2,"display","block"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"items"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],[3,"idProductEventEmitter","items"],[1,"alert","alert-warning"]],template:function(e,a){e&1&&(o(0,"navbar",0),p("openEventEmitter",function(){return a.openCart()}),n(),o(1,"div",1)(2,"h2"),s(3,"C\xE1talogo de Productos!"),n(),o(4,"div",2)(5,"catalog",3),p("productEventEmitter",function(Y){return a.onAddCart(Y)}),n(),T(6,rt,14,1,"div",4),n()()),e&2&&(b("items",a.items),d(5),b("products",a.products),d(),A(6,a.showCart?6:-1))},dependencies:[$,G,J],encapsulation:2});let i=t;return i})();var K=(()=>{let t=class t{constructor(){this.title="frontend"}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m({type:t,selectors:[["app-root"]],standalone:!0,features:[l],decls:2,vars:0,template:function(e,a){e&1&&g(0,"cart-app")(1,"router-outlet")},dependencies:[R,O,U],encapsulation:2});let i=t;return i})();var Q=[];var W={providers:[B(Q),N()]};var at={providers:[j()]},X=V(W,at);var st=()=>q(K,X),Yt=st;export{Yt as a};
